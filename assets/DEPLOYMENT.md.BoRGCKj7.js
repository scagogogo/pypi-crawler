import{_ as a,c as i,o as n,ag as e}from"./chunks/framework.J5k1uz79.js";const b=JSON.parse('{"title":"文档站点部署指南","description":"","frontmatter":{},"headers":[],"relativePath":"DEPLOYMENT.md","filePath":"DEPLOYMENT.md","lastUpdated":1752667346000}'),l={name:"DEPLOYMENT.md"};function r(t,s,p,o,h,d){return n(),i("div",null,s[0]||(s[0]=[e(`<h1 id="文档站点部署指南" tabindex="-1">文档站点部署指南 <a class="header-anchor" href="#文档站点部署指南" aria-label="Permalink to &quot;文档站点部署指南&quot;">​</a></h1><p>本指南将帮助您设置和部署 PyPI Crawler 的文档站点到 GitHub Pages。</p><h2 id="🚀-自动部署设置" tabindex="-1">🚀 自动部署设置 <a class="header-anchor" href="#🚀-自动部署设置" aria-label="Permalink to &quot;🚀 自动部署设置&quot;">​</a></h2><h3 id="_1-启用-github-pages" tabindex="-1">1. 启用 GitHub Pages <a class="header-anchor" href="#_1-启用-github-pages" aria-label="Permalink to &quot;1. 启用 GitHub Pages&quot;">​</a></h3><ol><li>进入 GitHub 仓库页面</li><li>点击 <strong>Settings</strong> 标签</li><li>在左侧菜单中找到 <strong>Pages</strong></li><li>在 <strong>Source</strong> 部分选择 <strong>Deploy from a branch</strong></li><li>选择 <strong>gh-pages</strong> 分支和 <strong>/ (root)</strong> 文件夹</li></ol><h3 id="_2-配置权限" tabindex="-1">2. 配置权限 <a class="header-anchor" href="#_2-配置权限" aria-label="Permalink to &quot;2. 配置权限&quot;">​</a></h3><p>确保 GitHub Actions 有足够的权限：</p><ol><li>在仓库设置中，进入 <strong>Actions</strong> &gt; <strong>General</strong></li><li>在 <strong>Workflow permissions</strong> 部分选择： <ul><li>✅ <strong>Read and write permissions</strong></li><li>✅ <strong>Allow GitHub Actions to create and approve pull requests</strong></li></ul></li></ol><p><strong>注意</strong>: 这是必需的，因为工作流需要推送到 <code>gh-pages</code> 分支。</p><h3 id="_3-触发部署" tabindex="-1">3. 触发部署 <a class="header-anchor" href="#_3-触发部署" aria-label="Permalink to &quot;3. 触发部署&quot;">​</a></h3><p>部署会在以下情况自动触发：</p><ul><li>推送到 <code>main</code> 分支且 <code>docs/</code> 目录有变更</li><li>手动触发（在 Actions 页面）</li></ul><h3 id="_4-部署流程" tabindex="-1">4. 部署流程 <a class="header-anchor" href="#_4-部署流程" aria-label="Permalink to &quot;4. 部署流程&quot;">​</a></h3><ol><li><strong>构建</strong>: GitHub Actions 在 <code>docs/</code> 目录中运行 <code>npm run docs:build</code></li><li><strong>推送</strong>: 将构建产物推送到 <code>gh-pages</code> 分支</li><li><strong>部署</strong>: GitHub Pages 从 <code>gh-pages</code> 分支自动部署网站</li></ol><h2 id="🔧-本地开发" tabindex="-1">🔧 本地开发 <a class="header-anchor" href="#🔧-本地开发" aria-label="Permalink to &quot;🔧 本地开发&quot;">​</a></h2><h3 id="环境要求" tabindex="-1">环境要求 <a class="header-anchor" href="#环境要求" aria-label="Permalink to &quot;环境要求&quot;">​</a></h3><ul><li>Node.js 16+</li><li>npm 或 yarn</li></ul><h3 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to &quot;快速开始&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. 运行设置脚本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./scripts/setup-docs.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 启动开发服务器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="可用命令" tabindex="-1">可用命令 <a class="header-anchor" href="#可用命令" aria-label="Permalink to &quot;可用命令&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开发模式（热重载）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 构建生产版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 预览生产版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:preview</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="📁-文件结构" tabindex="-1">📁 文件结构 <a class="header-anchor" href="#📁-文件结构" aria-label="Permalink to &quot;📁 文件结构&quot;">​</a></h2><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docs/</span></span>
<span class="line"><span>├── .vitepress/</span></span>
<span class="line"><span>│   ├── config.js          # VitePress 配置</span></span>
<span class="line"><span>│   └── dist/              # 构建输出（自动生成）</span></span>
<span class="line"><span>├── public/</span></span>
<span class="line"><span>│   ├── logo.svg           # 网站 Logo</span></span>
<span class="line"><span>│   └── favicon.ico        # 网站图标</span></span>
<span class="line"><span>├── *.md                   # 文档页面</span></span>
<span class="line"><span>└── index.md               # 首页</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="🎨-自定义配置" tabindex="-1">🎨 自定义配置 <a class="header-anchor" href="#🎨-自定义配置" aria-label="Permalink to &quot;🎨 自定义配置&quot;">​</a></h2><h3 id="修改网站信息" tabindex="-1">修改网站信息 <a class="header-anchor" href="#修改网站信息" aria-label="Permalink to &quot;修改网站信息&quot;">​</a></h3><p>编辑 <code>docs/.vitepress/config.js</code>：</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PyPI Crawler&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 网站标题</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  description: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;强大的 PyPI 包信息获取库&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 网站描述</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  base: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/pypi-crawler/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 基础路径</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ... 其他配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="修改主题" tabindex="-1">修改主题 <a class="header-anchor" href="#修改主题" aria-label="Permalink to &quot;修改主题&quot;">​</a></h3><p>VitePress 支持自定义主题，您可以：</p><ol><li>修改配置文件中的 <code>themeConfig</code></li><li>添加自定义 CSS</li><li>使用 Vue 组件</li></ol><h3 id="添加新页面" tabindex="-1">添加新页面 <a class="header-anchor" href="#添加新页面" aria-label="Permalink to &quot;添加新页面&quot;">​</a></h3><ol><li>在 <code>docs/</code> 目录下创建新的 <code>.md</code> 文件</li><li>在 <code>config.js</code> 的 <code>sidebar</code> 中添加链接</li><li>推送到 GitHub，自动部署</li></ol><h2 id="🌐-访问地址" tabindex="-1">🌐 访问地址 <a class="header-anchor" href="#🌐-访问地址" aria-label="Permalink to &quot;🌐 访问地址&quot;">​</a></h2><ul><li><strong>开发环境</strong>: <a href="http://localhost:5173" target="_blank" rel="noreferrer">http://localhost:5173</a></li><li><strong>预览环境</strong>: <a href="http://localhost:4173" target="_blank" rel="noreferrer">http://localhost:4173</a></li><li><strong>生产环境</strong>: <a href="https://scagogogo.github.io/pypi-crawler/" target="_blank" rel="noreferrer">https://scagogogo.github.io/pypi-crawler/</a></li></ul><h2 id="🔍-故障排除" tabindex="-1">🔍 故障排除 <a class="header-anchor" href="#🔍-故障排除" aria-label="Permalink to &quot;🔍 故障排除&quot;">​</a></h2><h3 id="部署失败" tabindex="-1">部署失败 <a class="header-anchor" href="#部署失败" aria-label="Permalink to &quot;部署失败&quot;">​</a></h3><ol><li>检查 GitHub Actions 日志</li><li>确认 Node.js 版本兼容性</li><li>验证 <code>package.json</code> 配置</li></ol><h3 id="页面显示异常" tabindex="-1">页面显示异常 <a class="header-anchor" href="#页面显示异常" aria-label="Permalink to &quot;页面显示异常&quot;">​</a></h3><ol><li>检查 Markdown 语法</li><li>验证内部链接路径</li><li>确认图片资源路径</li></ol><h3 id="样式问题" tabindex="-1">样式问题 <a class="header-anchor" href="#样式问题" aria-label="Permalink to &quot;样式问题&quot;">​</a></h3><ol><li>清除浏览器缓存</li><li>检查 CSS 自定义</li><li>验证主题配置</li></ol><h2 id="📞-获取帮助" tabindex="-1">📞 获取帮助 <a class="header-anchor" href="#📞-获取帮助" aria-label="Permalink to &quot;📞 获取帮助&quot;">​</a></h2><p>如果遇到问题：</p><ol><li>查看 <a href="https://vitepress.dev/" target="_blank" rel="noreferrer">VitePress 官方文档</a></li><li>检查 <a href="https://docs.github.com/en/actions" target="_blank" rel="noreferrer">GitHub Actions 文档</a></li><li>在项目中提交 Issue</li></ol><h2 id="🎯-最佳实践" tabindex="-1">🎯 最佳实践 <a class="header-anchor" href="#🎯-最佳实践" aria-label="Permalink to &quot;🎯 最佳实践&quot;">​</a></h2><ol><li><strong>定期更新依赖</strong>: 保持 VitePress 版本最新</li><li><strong>优化图片</strong>: 使用适当大小的图片资源</li><li><strong>测试链接</strong>: 确保所有内部链接正常工作</li><li><strong>移动端适配</strong>: 测试移动设备上的显示效果</li><li><strong>SEO 优化</strong>: 设置合适的页面标题和描述</li></ol><hr><p><strong>恭喜！</strong> 您的文档站点现在已经配置完成，可以自动部署到 GitHub Pages 了！</p>`,48)]))}const g=a(l,[["render",r]]);export{b as __pageData,g as default};
